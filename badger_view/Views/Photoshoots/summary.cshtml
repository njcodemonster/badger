@{
    ViewData["Title"] = "In-Progress Photoshoot";
}
@model dynamic
@section Scripts {
    <script src="~/js/jquery-ui.js"></script>
    <script src="~/lib/date-picker/js/gijgo.min.js" type="text/javascript"></script>
    <link href="~/lib/date-picker/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <script src="~/js/photoshootListing.js" asp-append-version="true"></script>
    <script>
        $('.photoshootDate').each(function (index, value) {
            var id = $(this).attr('id');
            $('#' + id).datepicker({
                format: 'm/d/yyyy'
            });
        });
    </script>
}
@using CommonHelper;

<div class="row">
    <div class="col-md-8 col-sm-12">
        <h4 class="">In-Progress Photoshoot</h4>
    </div>
</div>

<div class="table-responsive pt-5">
    <table id="openphotoshot" class="table table-bordered datatable_js_ps" style="width:100%">
        <thead>
            <tr>
                <th class="text-center">Model</th>
                <th class="text-center">Scheduled Date</th>
                <th class="text-center">Styles (count)</th>
                <th class="text-center">Notes</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (ProductPhotoshootSummaryRep photoshoot in Model.Lists)
            {
                <tr id="rowId_@photoshoot.photoshoot_id">
                    <td class="text-center">
                        <select class="browser-default custom-select">
                            <option value="">Choose...</option>
                            @foreach (dynamic ShootModel in Model.PhotoshootModels)
                            {
                                @if (@ShootModel.model_id == @photoshoot.model_id)
                                {
                                    <option value="@ShootModel.model_id" selected="selected">@ShootModel.model_name </option>
                                }
                                else
                                {
                                    <option value="@ShootModel.model_id">@ShootModel.model_name </option>
                                }
                            }
                        </select>
                    </td>

                    <td class="text-center">
                        @{ var scheduled_date = new CommonHelper().ConvertToDate(@photoshoot.scheduled_date); }
                        <input type="text" value="@scheduled_date" class="photoshootDate browser-default scheduled_date" id="date_@photoshoot.photoshoot_id">
                    </td>
                    <td class="text-center"><b>@photoshoot.styles</b></td>
                    <td class="text-center ps_notes" id="notesRow_@photoshoot.photoshoot_id">
                        <textarea class="form-control notes" rows="2" cols="25" data-id="@photoshoot.photoshoot_id"></textarea>
                    </td>
                    <td class="text-center"> <input type="button" class="btn btn-default btn-green" value="Edit Photoshoot" onclick="editPhotoshoot(@photoshoot.photoshoot_id)"> </td>
                </tr>
            }

        </tbody>
    </table>
</div>

<div class="loading-box">
    <div class="inner-loading"><div class="spinner-border  text-light" role="status" style=" "><span class="sr-only">Loading...</span></div></div>
</div>
<script>
    function selectAllCheckbox() {
        $(".select-box").attr("checked", true);
    }

    function addNewPhotoshoot() {
        $("#modalAddNewPhotoshoot").modal('show');
    }
</script> 