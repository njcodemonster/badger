function AppendSkuTextBoxes(n,t){var r,u,f;if($("#po_input_fields_wrap").html(""),r="",t==2&&(r='<button type="button" class="btn btn-primary form-control " name="btstyleVendorSize" id="btstyleVendorSize" > Add Size <\/button>'),$(".vendorSkuArea #styleVendorSize").length==0){for(x=1;x<n;x++){if(u="",window.sku_sizes)for(i=0;i<sku_sizes.length;i++)f="",i==x-1&&(f="selected"),u+=" <option value='"+sku_sizes[i].attribute_id+"'  "+f+">"+sku_sizes[i].attribute_display_name+"<\/option>";$("#po_input_fields_wrap").append('<div class="pb-2 vendorSkuBox form-row"> <div class="form-group col-md-3"> '+r+' <input type="text" class="form-control required" name="styleVendorSize" id="styleVendorSize" placeholder="Vendor Size" /><\/div> <div class="form-group col-md-3"><select class="form-control d-inline  required" name="styleSize" id="styleSize">'+u+'<\/select><\/div> <div class="form-group col-md-3"><input type="text" maxlength="7" style="text-transform: uppercase;" class="form-control d-inline  required" name="styleSku" id="styleSku" placeholder="SKU" value = "" /><\/div> <div class="form-group col-md-3"><input type="number" class="form-control d-inline  required" name="styleSkuQty" id="styleSkuQty" placeholder="Qty" /><\/div> <a href="#" class="remove_field">Remove<\/a> <\/div>')}(t=2)&&$("#po_input_fields_wrap .vendorSkuBox #btstyleVendorSize").click(function(){$(this).next().show();$(this).hide();$(".add_field_button").show()})}}function isSkuDuplicate(n){var t=$("#po_input_fields_wrap .vendorSkuBox #styleSku").filter(function(){return this.value==n}).length;return t==1?!1:!0}function isTitleDuplicate(n){if(SelectedProductID!=null)return!1;var t=$("#ExistingProductSelect option").filter(function(){return $(this).val()==n}).length;return t?!0:!1}function general_search(){var n=$("#general_search");n.autocomplete({delay:0,source:function(n,t){var r={},i;r.search=n.term;console.log(r);i=[];$(".search_result_list").hide();n.term.length>3&&$.ajax({url:"/search/autosuggest/",dataType:"json",type:"post",data:JSON.stringify(r),contentType:"application/json",processData:!1}).always(function(n){console.log(n);n.barcodeList.length>0&&(i=i.concat(n.barcodeList));n.skuList.length>0&&(i=i.concat(n.skuList));n.vendorList.length>0&&(i=i.concat(n.vendorList));n.productList.length>0&&(i=i.concat(n.productList));n.purchaseOrdersList.length>0&&(i=i.concat(n.purchaseOrdersList));n.styleNumberList.length>0&&(i=i.concat(n.styleNumberList));t(i)})},select:function(){return!1},focus:function(){return!1}});n.data("ui-autocomplete")._renderItem=function(n,t){n.addClass("search_result_list");var i=$("<li>"),r=$('<img style="width:50px;padding-right:4px;">'),u=$('<div class="s_img">'),f=$('<div class="s_title">');return t.type=="vendor"?t.image!=undefined&&t.image!=null&&r.attr({src:"https://fashionpass.s3.us-west-1.amazonaws.com/badger_images/"+t.image}):(t.image!=undefined||t.image!=null)&&(t.image.indexOf("http")!=-1?r.attr({src:t.image}):r.attr({src:"uploads/"+t.image})),i.attr("data-value",t.label),t.type=="barcode"&&i.append('<a href="#barcode">'),t.type=="sku"&&i.append('<a href="#sku">'),t.type=="vendor"&&i.append('<a href="'+window.location.origin+"/Vendor/Single/"+t.value+'">'),(t.type=="product"||t.type=="stylenumber")&&i.append('<a href="'+window.location.origin+"/Product/EditAttributes/"+t.value+'">'),t.type=="purchase_orders"&&i.append('<a href="'+window.location.origin+"/PurchaseOrders/Single/"+t.value+'">'),t.image!=null&&t.image!=undefined?(u.append(r),f.append(t.label),i.find("a").addClass("li_search").append(u).append(f)):i.find("a").append(t.label),i.appendTo(n)}}var dropdownlist;$(document).on("click",".DeletefromPOButton",function(){var n={},t,i;$(".poAlertMsg").append('<div class="spinner-border text-info"><\/div>');selectedProject=$("#ExistingProductSelect option:selected");selectedProject.data("product_id")>0?(n.product_id=selectedProject.data("product_id"),n.po_id=$("#newAddStyleForm #po_id").val(),t=parseInt($("#newAddStyleForm #po_id").val()),i=selectedProject.data("product_id"),$.ajax({url:location.origin+"/styles/deleteFromPO/"+i+"/"+t,dataType:"json",type:"get",processData:!1}).always(function(n){console.log(n);n==!0?($("#modaladdstylec").modal("hide"),alertBox("poAlertMsg","green","Product deleted successfully")):alertBox("poAlertMsg","red","Product delete failed")})):alertBox("poAlertMsg","red","Please select a product")});var Original_sku="",new_sku="",SelectedProductID,data_Categories,productSubCategoriesAction=[],IsLineItemExists=!1;$(document).on("click",".AddNewStyleButton",function(){var t=$(this).attr("data-action"),i=$("#newAddStyleForm input"),n;if(emptyFeildValidation("newAddStyleForm")==!1)return!1;n={};$(".poAlertMsg").append('<div class="spinner-border text-info"><\/div>');selectedProject=$("#ExistingProductSelect option:selected");selectedProject.data("product_id")>0&&(n.product_id=selectedProject.data("product_id"));n.po_id=$("#newAddStyleForm #po_id").val();n.vendor_id=$("#newAddStyleForm #vendor_id").val();n.product_name=$("#newAddStyleForm #product_title").val();n.vendor_color_name=$("#newAddStyleForm #product_color").val();n.product_cost=$("#newAddStyleForm #product_unit_cost").val();n.product_retail=$("#newAddStyleForm #product_retail").val();n.product_name_no=$("#newAddStyleForm #product_title_no").val();n.product_color_code=$("#newAddStyleForm #product_color_code").val();n.product_type_id=$("#StyleType option:selected").val();n.IsLineItemExists=IsLineItemExists;n.product_subtype_ids=productSubCategoriesAction;n.vendor_style_sku=[];$("#po_input_fields_wrap .vendorSkuBox").each(function(){var t={},i=$(this).find("#styleVendorSize").val(),r=$(this).find("#styleSize").val(),u=$(this).find("#styleSku").val(),f=$(this).find("#styleSkuQty").val(),e=$($(this).find("#styleSku")).attr("disabled"),o=!1,s=0;o=typeof e!=typeof undefined&&e!==!1?!1:!0;IsLineItemExists&&(s=$(this).find("#styleSkuQty").data().originalquantity);t.style_vendor_size=i;t.style_size=r;t.style_sku=u;t.style_qty=f;t.IsNewSku=o;t.original_qty=s;i!=null&&r!=null&&u!=null&&f&&n.vendor_style_sku.push(t)});$.ajax({url:location.origin+"/styles/create",type:"post",contentType:"application/json",data:JSON.stringify(n),processData:!1}).always(function(n){var u,r,i;n!="-3"&&alertBox("poAlertMsg","red","Cannot reduce quantity of sku.");n!="0"&&($(".vendorSkuBox").remove(),console.log("New style Added"),u=$("#newAddStyleForm #StyleImage")[0].files[0],u&&(r=new FormData,r.append("product_id",n),r.append("StyleImage",u),$.ajax({url:location.origin+"/styles/newdoc",type:"POST",data:r,processData:!1,contentType:!1}).always(function(n){console.log(n)})),alertBox("poAlertMsg","green","New style inserted successfully"),t=="refreshValue"?(i=$("#newAddStyleForm #po_id").val(),$('button[data-poid="'+i+'"]').trigger("click"),$("#modaladdstylec input,textarea,select").val("").removeClass("errorFeild")):(i=$("#newAddStyleForm #po_id").val(),$("#collapse_"+i).html(""),$("#collapse_"+i).hide(),$("a[data-poid="+i+"]").trigger("click"),$("#modaladdstylec").modal("hide")),$(".poAlertMsg").html(""))})});$(document).ready(function(){var r=10,t=$("#po_input_fields_wrap"),u=$(".add_field_button"),n;$(".vendorSkuBox").remove();n=1;$(u).click(function(u){var o,f,e;if(u.preventDefault(),n<r){if(n++,o="",f="",window.sku_sizes.length)for(i=0;i<sku_sizes.length;i++)e="",i==0&&(e="selected"),f+=" <option value='"+sku_sizes[i].attribute_id+"'  "+e+">"+sku_sizes[i].attribute_display_name+"<\/option>";$(t).append('<div class="pb-2  vendorSkuBox form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline required" name="styleVendorSize" id="styleVendorSize" placeholder="Vendor Size" /><\/div> <div class="form-group col-md-3"><select type="text" class="form-control d-inline required" name="styleSize" id="styleSize">'+f+'<\/select><\/div> <div class="form-group col-md-3"><input style="text-transform: uppercase;" type="text" maxlength="7" value="'+o+'" class="form-control d-inline  required" name="styleSku" id="styleSku" placeholder="SKU" /><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " name="styleSkuQty" id="styleSkuQty" placeholder="Qty" /><\/div> <a href="#" class="remove_field">Remove<\/a> <\/div>')}});$(t).on("click",".remove_field",function(t){t.preventDefault();$(this).parent("div").remove();n--});$("#StyleSubType").multiselect({nonSelectedText:"Select sub type",enableFiltering:!0,templates:{li:'<li><a href="javascript:void(0);"><label class="pl-2"><\/label><\/a><\/li>',filter:'<li class="multiselect-item filter"><div class="input-group m-0 mb-1"><input class="form-control multiselect-search" type="text"><\/div><\/li>',filterClearBtn:'<div class="input-group-append"><button class="btn btn btn-primary multiselect-clear-filter" type="button"><i class="fa fa-times"><\/i><\/button><\/div>'},selectedClass:"bg-light",onInitialized:function(n,t){t.find("input[type=checkbox]").addClass("d-none")},onChange:function(n,t){var r=t?"insert":"delete",i;productSubCategoriesAction=productSubCategoriesAction.filter(function(t){return t.product_category_id!=$(n).val()});i={category_id:$(n).val(),action:r};productSubCategoriesAction.push(i);productSubCategoriesAction.length>0&&($("#StyleSubType").removeClass("errorFeild"),$("#StyleSubType").parents(".form-group").find("span.errorMsg").remove())}})});$(document).on("blur","#styleSku",function(){var n=new RegExp("^([A-Z]{2})([0-9]{3})([-]{1})([0-9]{1})$"),t=$(this).val().toUpperCase();n.test(t)==!1?$(this).addClass("errorFeild"):$(this).removeClass("errorFeild")});$(document).on("change","#modaladdstylec #ExistingProductSelect",function(){var n,r,i,t,u;if(this.selectedIndex==0&&(new_sku=Original_sku,$(".poSkuFamily").text(Original_sku)),n=$(this.options[this.selectedIndex]),$(".poAlertMsg").append('<div class="spinner-border text-info"><\/div>'),SelectedProductID=n.data("product_id"),productImage=n.data("product_vendor_image"),SelectedProductTytle=$(this.options[this.selectedIndex]).val(),$("#modaladdstylec #product_title").val($(this.options[this.selectedIndex]).attr("data-name")),$("#modaladdstylec #product_unit_cost").val(n.data("product_unit_cost")),$("#modaladdstylec #product_color").val(n.data("product_color")),$("#modaladdstylec #product_retail").val(n.data("product_retail")),$("#modaladdstylec #product_color_code").val(n.data("vendor_color_code")),$("#modaladdstylec #product_title_no").val(n.data("vendor_product_code")),r=n.data("po_id"),$("#modaladdstylec StyleType option").removeAttr("selected"),n.data("product_type")!=0&&$("#modaladdstylec #StyleType").val($("#modaladdstylec #StyleType option[value="+n.data("product_type")+"]").val()).change(),$("#modaladdstylec #StyleType").attr("disabled",""),$(".style_doc_section").empty(),productImage!=null?($(".style_doc_section").append("<img src='"+productImage+"' width='50' />  <br>"),$(".style_doc_section").removeClass("d-none")):$(".style_doc_section").addClass("d-none"),selectProductCategories=n.data("product_categories"),selectProductCategories!=null){for(i=[],t=0;t<selectProductCategories.length;t++)u=selectProductCategories[t],i.push(u.category_id);$("#StyleSubType").multiselect("select",i)}this.selectedIndex!=0?$.ajax({url:"/purchaseorders/lineitems/"+SelectedProductID+"/"+r,dataType:"json",type:"GET",contentType:"application/json",processData:!0}).always(function(t){var s,c,u,i,r,o;IsLineItemExists=!1;s=$("#po_input_fields_wrap");$(".vendorSkuBox").remove();$(".vendorSkuBox_disabled").remove();$(".vendorSkuArea").show();var e="",h="",f=n.data("skulist");if(t==null||t.length==0){if(window.sku_sizes)for(i=0;i<f.length;i++)if(f[i].sku!=null&&f[i].sku!=""){for(e="",r=0;r<sku_sizes.length;r++)o="",sku_sizes[r].attribute_id==f[i].attribute_id&&(o="selected"),e+=" <option value='"+sku_sizes[r].attribute_id+"'  "+o+">"+sku_sizes[r].attribute_display_name+"<\/option>";$(s).append('<div class="pb-2 vendorSkuBox form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " name="csize['+u+']" value="'+f[i].vendor_size+'"  placeholder="Vendor Size" id="styleVendorSize" disabled  /><\/div><div class="form-group col-md-3"><select class="form-control d-inline" name="styleSize" id="styleSize" disabled >'+e+'<\/select><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " id="styleSku" name="styleSku"  placeholder="Size" value="'+f[i].sku+'" style="text-transform: uppercase;"   disabled /><\/div> <div class="form-group col-md-3"> <input type="text" class="form-control d-inline "  placeholder="Qty"  id="styleSkuQty"   />  ');h=f[i].sku.split("-")[0]}}else{for(IsLineItemExists=!0,c=[],u=0;u<t.length;u++){if(e="",window.sku_sizes)for(r=0;r<sku_sizes.length;r++)o="",sku_sizes[r].attribute_id==t[u].attribute_id&&(o="selected"),e+=" <option value='"+sku_sizes[r].attribute_id+"'  "+o+">"+sku_sizes[r].attribute_display_name+"<\/option>";c.push({sku:t[u].sku,attribute_id:t[u].attribute_id});$(s).append('<div class="pb-2 vendorSkuBox form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline required" name="csize['+u+']" value = "'+t[u].vendor_size+'" placeholder="Vendor Size" id="styleVendorSize" disabled  /><\/div><div class="form-group col-md-3"><select class="form-control d-inline"  name="styleSize" id="styleSize" value = ""  disabled>'+e+'<\/select><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " name="size['+u+']" placeholder="Size" id="styleSku" name="styleSku" value="'+t[u].sku+'"  style="text-transform: uppercase;"  disabled /><\/div> <div class="form-group col-md-3"> <input type="text" class="form-control d-inline required " name="cqty['+u+']" placeholder="Qty" data-originalQuantity="'+t[u].line_item_ordered_quantity+'"  id="styleSkuQty" value="'+t[u].line_item_ordered_quantity+'"  />  ');h=t[u].sku.split("-")[0]}if(window.sku_sizes)for(i=0;i<f.length;i++)if($("input[value='"+f[i].sku+"']").val()==null&&f[i].sku!=null&&f[i].sku!=""){for(e="",r=0;r<sku_sizes.length;r++)o="",sku_sizes[r].attribute_id==f[i].attribute_id&&(o="selected"),e+=" <option value='"+sku_sizes[r].attribute_id+"'  "+o+">"+sku_sizes[r].attribute_display_name+"<\/option>";$(s).append('<div class="pb-2 vendorSkuBox form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline required " name="csize['+u+']" value="'+f[i].vendor_size+'"  placeholder="Vendor Size" id="styleVendorSize" disabled  /><\/div><div class="form-group col-md-3"><select class="form-control d-inline" name="styleSize" id="styleSize"  disabled>'+e+'<\/select><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline "  placeholder="Size" value="'+f[i].sku+'" style="text-transform: uppercase;" disabled name="styleSku" id="styleSku" /><\/div> <div class="form-group col-md-3"> <input type="text" class="form-control d-inline"  placeholder="Qty"  id="styleSkuQty"   />  ');h=f[i].sku.split("-")[0]}}Original_sku=new_sku;new_sku=h;$(".poSkuFamily").text(new_sku);$(".poAlertMsg").html("")}):($(".poAlertMsg").html(""),$("#modaladdstylec #StyleType").removeAttr("disabled"))});$(document).on("click","#AddItemButton",function(){var n;$("#modaladdstylec #ExistingProductSelect").removeAttr("disabled");$("#modaladdstylec #StyleType").removeAttr("disabled");$("#StyleSubType option").remove();$("#StyleSubType").multiselect("rebuild");n=$(this).data("poid");$(".errorMsg").remove();$("#modaladdstylec input,textarea,select").val("").removeClass("errorFeild");var i=$(this).data("vendorid"),t=$(this).data("proid"),r=$(this).data("product_vendor_image");$(".poNumber").text($(this).data("ponumber"));$("#modaladdstylec input").val("");$("#modaladdstylec #StyleSubType option").each(function(){this.innerText!="Choose..."&&this.innerText!="..."&&this.remove()});$("#modaladdstylec").modal("show");$(".vendorSkuBox").remove();$(".vendorSkuBox_disabled").remove();$("#modaladdstylec #ExistingProductSelect option").remove();$("#modaladdstylec #ExistingProductSelect").append("<option id='-1' value=''>Choose...<\/option>");$.ajax({url:"/vendor/products/"+i,dataType:"json",type:"GET",contentType:"application/json",processData:!0}).always(function(r){var e,f,u,h,o,s;if(data_vendor=r.vendor,window.sku_sizes=r.Sizes,data_Categories=r.categories,r=r.vendorProducts,$("#modaladdstylec #ExistingProductSelect option").remove(),$("#modaladdstylec #ExistingProductSelect").append("<option id='-1' value=''>Choose...<\/option>"),e="",$("#po_id").val(n),$("#vendor_id").val(i),$(".vendorSkuBox_disabled").remove(),$(".vendorSkuBox").remove(),$("#modaladdstylec #StyleType option").remove(),$("#modaladdstylec #StyleType").append("<option id='-1' value=''>Choose...<\/option>"),f=data_Categories.filter(function(n){return n.category_type==0}),f.length)for(u=0;u<f.length;u++)$("#modaladdstylec #StyleType").append("<option value='"+f[u].category_id+"'>"+f[u].category_name+"<\/option >");if(r.length){for(u=0;u<r.length;u++)h="",t!=null&&(h="value = '"+r[u].product_id+"'"),$("#modaladdstylec #ExistingProductSelect").append("<option data-skulist='"+r[u].skulist+"' "+h+"  data-product_categories='"+r[u].productCategories+"' data-vendor_product_code='"+r[u].vendor_product_code+"' data-vendor_color_code='"+r[u].vendor_color_code+"'   data-product_type='"+r[u].product_type_id+"' data-product_color='"+r[u].vendor_color_name+"' data-product_unit_cost='"+r[u].product_cost+"' data-product_retail='"+r[u].product_retail+"' data-Product_id='"+r[u].product_id+"'  data-skufamily='"+r[u].sku_family+"'  data-po_id='"+n+"' data-name='"+r[u].product_name+"' >"+r[u].product_name+"<\/option>"),e=r[u].sku_family;t!=null?($("#modaladdstylec #ExistingProductSelect").val(t).trigger("change"),$("#modaladdstylec #ExistingProductSelect").prop("disabled",!0),$("#modaladdstylec #StyleType").prop("disabled",!0),$("#DeletefromPOButton").show()):$("#DeletefromPOButton").hide();o=e.substring(0,2);s=parseInt(e.substr(2))+1;new_sku=o+s}else o=data_vendor[0].vendor_code,s=100,new_sku=o+s;$(".poSkuFamily").text(new_sku);$(".poVendor").text(data_vendor[0].vendor_code);console.log(r)})});$(document).on("change","#StyleType",function(){var n=$(this).val(),r=0,t,i;if(n=="2"?(r=2,$(".vendorSkuArea").show(),$(".add_field_button").hide(),$("#po_input_fields_wrap .vendorSkuBox #styleVendorSize").each(function(){$(this).hide()})):n=="1"?($(".vendorSkuArea").show(),r=window.sku_sizes.length+1,$(".add_field_button").show()):$(".vendorSkuArea").hide(),SelectedProductID==null&&AppendSkuTextBoxes(r,n),$("#StyleSubType option").remove(),$("#StyleSubType").multiselect("rebuild"),n!=0&&(t=data_Categories.filter(function(t){return t.category_parent_id==n}),t.length)){for(i=0;i<t.length;i++)$("#StyleSubType").append("<option value='"+t[i].category_id+"'>"+t[i].category_name+"<\/option >");$("#StyleSubType").multiselect("rebuild")}});$(document).on("focusout","#po_input_fields_wrap .vendorSkuBox #styleVendorSize",function(){var t=$("#po_input_fields_wrap .vendorSkuBox #styleVendorSize").filter(function(){return this.value!=""}).length,i=$($(this).parent().parent().find("#styleSku")).attr("disabled"),n;(typeof i==typeof undefined||i===!1)&&($(this).val()==""?$(this).parent().parent().find("#styleSku").val(""):(n=new_sku+"-"+t,$(this).parent().parent().find("#styleSku").val(n),isSkuDuplicate(n)&&(n=new_sku+"-"+(t+1),$(this).parent().parent().find("#styleSku").val(n))))});$(document).on("focusout","#po_input_fields_wrap .vendorSkuBox #styleSku",function(){var n=$(this).val();isSkuDuplicate(n)?($(this).addClass("errorFeild"),$(this).parents(".form-group").append('<span class="errorMsg" style="color:red;font-size: 11px;">Duplicate SKU entered.<\/span>')):($(this).removeClass("errorFeild"),$(this).parents(".form-group").find(".errorMsg").remove())});$(document).on("change","#modaladdstylec input,#modaladdstylec select",function(){$(this).removeClass("errorFeild");$(this).parents(".form-group").find(".errorMsg").remove()});$(document).on("keydown","#product_title,#product_color",function(n){return allLetterAllow(n)});$(document).on("keydown","#product_unit_cost,#product_retail",function(n){return onlyNumbersWithDot(n)});$(document).on("keydown","#styleSkuQty",function(n){return onlyNumbers(n)});$(document).on("change","#modaleditstylec #ExistingProductSelect",function(){var n=$(this.options[this.selectedIndex]),t;$(".poAlertMsg").append('<div class="spinner-border text-info"><\/div>');SelectedProductID=n.data("product_id");productImage=n.data("product_vendor_image");SelectedProductTytle=$(this.options[this.selectedIndex]).val();$("#modaleditstylec #product_title").val($(this.options[this.selectedIndex]).attr("data-name"));$("#modaleditstylec #product_unit_cost").val(n.data("product_unit_cost"));$("#modaleditstylec #product_color").val(n.data("product_color"));$("#modaleditstylec #product_retail").val(n.data("product_retail"));t=n.data("po_id");$("#modaleditstylec StyleType option").removeAttr("selected");n.data("product_type")==1?$("#modaleditstylec #StyleType").val($("#modaleditstylec #StyleType option[value=1]").val()).change():$("#modaleditstylec #StyleType").val($("#modaleditstylec #StyleType option[value=2]").val()).change();$(".style_doc_section").empty();productImage!=null?($(".style_doc_section").append("<a onclick='return false' class='documentsLink' data-proid="+SelectedProductID+" data-val="+productImage+">"+productImage+" <span class='podeleteImage'>×<\/span><\/a> <br>"),$(".style_doc_section").removeClass("d-none")):$(".style_doc_section").addClass("d-none");$.ajax({url:"/purchaseorders/lineitems/"+SelectedProductID+"/"+t,type:"GET",contentType:"application/json",processData:!0}).always(function(n){var i=$("#modaleditstylec #po_input_fields_wrap"),t;for($(".vendorSkuBox").remove(),$(".vendorSkuArea").show(),$(".vendorSkuBox_disabled").remove(),t=["XS","S","M","L"],x=0;x<n.length;x++)$(i).append('<div class="pb-2 vendorSkuBox_disabled form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " name="csize['+x+']" placeholder="Vendor Size"   disabled /><\/div><div class="form-group col-md-3"><input type="text" class="form-control d-inline" name="csku['+x+']" placeholder="SKU" value = "'+t[x]+'"  disabled /><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline " name="size['+x+']" placeholder="Size" value="'+n[x].sku+'" style="text-transform: uppercase;"  disabled /><\/div> <div class="form-group col-md-3"> <input type="text" class="form-control d-inline " name="cqty['+x+']" placeholder="Qty" value="'+n[x].line_item_ordered_quantity+'"  disabled />  ');$(".poAlertMsg").html("")})});$(document).on("click","#EditItemButton",function(){var n=$(this).data("poid");$(".errorMsg").remove();$("#modaleditstylec input,textarea,select").val("").removeClass("errorFeild");var t=$(this).data("vendorid"),r=$(this).data("proid"),u=$(this).data("product_vendor_image");$(".poNumber").text($(this).data("ponumber"));$("#modaleditstylec input").val("");$("#modaleditstylec #StyleSubType option").each(function(){this.innerText!="Choose..."&&this.innerText!="..."&&this.remove()});$("#modaleditstylec").modal("show");$.ajax({url:"/vendor/products/"+t,type:"GET",contentType:"application/json",processData:!0}).always(function(u){var f;for(u=u.vendorProducts,$("#modaleditstylec #ExistingProductSelect option").remove(),$("#modaleditstylec #ExistingProductSelect").append("<option id='-1' value=''>Choose...<\/option>"),f="",$("#po_id").val(n),$("#vendor_id").val(t),$(".vendorSkuBox_disabled").remove(),$(".vendorSkuBox").remove(),i=0;i<u.length;i++)$("#modaleditstylec #ExistingProductSelect").append("<option value='"+u[i].product_id+"' data-product_type='"+u[i].product_type_id+"' data-product_vendor_image='"+u[i].product_vendor_image+"' data-product_color='"+u[i].vendor_color_name+"' data-product_unit_cost='"+u[i].product_cost+"' data-product_retail='"+u[i].product_retail+"' data-Product_id='"+u[i].product_id+"'  data-skufamily='"+u[i].sku_family+"'  data-po_id='"+n+"' data-name='"+u[i].product_name+"' >"+u[i].product_name+"<\/option>"),f=u[i].sku_family;$("#modaleditstylec #ExistingProductSelect").val(r).trigger("change");$("#modaleditstylec #ExistingProductSelect").prop("disabled",!0);var e=f.substring(0,2),o=parseInt(f.substr(2))+1,s=e+o,h=$("#po_input_fields_wrap"),c=["","XS","S","M","L"];for(x=1;x<5;x++)$(h).append('<div class="pb-2  vendorSkuBox form-row"> <div class="form-group col-md-3"><input type="text" class="form-control d-inline required" name="styleVendorSize" id="styleVendorSize" placeholder="Vendor Size" /><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline  required" name="styleSize" id="styleSize" placeholder="Size" value = "'+c[x]+'" /><\/div> <div class="form-group col-md-3"><input type="text" maxlength="7" style="text-transform: uppercase;" class="form-control d-inline  required" name="styleSku" id="styleSku" placeholder="SKU" value = "'+s+"-"+x+'" /><\/div> <div class="form-group col-md-3"><input type="text" class="form-control d-inline  required" name="styleSkuQty" id="styleSkuQty" placeholder="Qty" /><\/div> <a href="#" class="remove_field">Remove<\/a> <\/div>');console.log(u)})});$(document).on("change","#modaleditstylec input,#modaleditstylec select",function(){$(this).removeClass("errorFeild");$(this).parents(".form-group").find(".errorMsg").remove()});$(document).ajaxStart(function(){console.log("request started")});$(document).ajaxError(function(n,t){t.responseJSON?alertBox("vendorAlertMsg","red",t.responseJSON.Message):alertBox("vendorAlertMsg","red",t.responseText,5e4)});$(document).ready(function(){$("#openpo").DataTable({aaSorting:[]});$(".datatable_js").DataTable({columnDefs:[{orderable:!1,targets:[0,1,7]},]});general_search()});$(document).on("click","#general_search_btn",function(){$("#general_search").autocomplete("search",$("#general_search").val())});$(document).ready(function(){});$(document).ready(function(){$(".edit").click(function(){$(this).hide();$(this).prev().hide();$(this).next().show();$(this).next().select()});$('input.edittitlet[type="text"]').blur(function(){$.trim(this.value)==""?this.value=this.defaultValue?this.defaultValue:"":$(this).prev().prev().html(this.value);$(this).hide();$(this).prev().show();$(this).prev().prev().show()});$('input.edittitlet[type="text"]').keypress(function(n){n.keyCode=="13"&&($.trim(this.value)==""?this.value=this.defaultValue?this.defaultValue:"":$(this).prev().prev().html(this.value),$(this).hide(),$(this).prev().show(),$(this).prev().prev().show())})});$("#vendor").multiselect({nonSelectedText:"Select Vendor",enableFiltering:!0,templates:{li:'<li><a href="javascript:void(0);"><label class="pl-2"><\/label><\/a><\/li>',filter:'<li class="multiselect-item filter"><div class="input-group m-0 mb-1"><input class="form-control multiselect-search" type="text"><\/div><\/li>',filterClearBtn:'<div class="input-group-append"><button class="btn btn btn-primary multiselect-clear-filter" type="button"><i class="fa fa-times"><\/i><\/button><\/div>'},selectedClass:"bg-light",onInitialized:function(n,t){t.find("input[type=checkbox]").addClass("d-none")}});$("#size").multiselect({nonSelectedText:"Select Size",enableFiltering:!0,templates:{li:'<li><a href="javascript:void(0);"><label class="pl-2"><\/label><\/a><\/li>',filter:'<li class="multiselect-item filter"><div class="input-group m-0 mb-1"><input class="form-control multiselect-search" type="text"><\/div><\/li>',filterClearBtn:'<div class="input-group-append"><button class="btn btn btn-primary multiselect-clear-filter" type="button"><i class="fa fa-times"><\/i><\/button><\/div>'},selectedClass:"bg-light",onInitialized:function(n,t){t.find("input[type=checkbox]").addClass("d-none")}});$("#status,#size").multiselect({nonSelectedText:"Select Status",enableFiltering:!0,templates:{li:'<li><a href="javascript:void(0);"><label class="pl-2"><\/label><\/a><\/li>',filter:'<li class="multiselect-item filter"><div class="input-group m-0 mb-1"><input class="form-control multiselect-search" type="text"><\/div><\/li>',filterClearBtn:'<div class="input-group-append"><button class="btn btn btn-primary multiselect-clear-filter" type="button"><i class="fa fa-times"><\/i><\/button><\/div>'},selectedClass:"bg-light",onInitialized:function(n,t){t.find("input[type=checkbox]").addClass("d-none")}});